<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href=home.html>
<script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>


<polymer-element name="main-screen" attributes="menuTitle mainTitle">

  <template>
    <link rel="stylesheet" href="main.css">
    <core-scaffold>

      <core-header-panel navigation flex>
        <core-toolbar>
          <span>{{menuTitle}}</span>
        </core-toolbar>
        <core-menu on-core-select="{{onSelect}}" selected="0">
          <core-item num="0" label="Home" on-click="home();"></core-item>
          <core-item num="1" label="About Me" on-click="about();"></core-item>
          <core-item num="2" label="Projects" on-click="proj();"></core-item>
        </core-menu>
      </core-header-panel>

      <span tool>
          {{mainTitle}}
      </span>

      <div class="content">
          <div id="innerContent">
          </div>
      </div>

    </core-scaffold>
  </template>

  <script>

    Polymer({
      selectedItem: 0,
      ready: function() {
          this.$.selectedItem = 0;
          $("#innerContent").innerHTML = "Hello World";
          $.get("home.html", function(data){
            $("#innerContent").html(data);
          });
          console.log("attempting to load home.html");
      },
      onSelect: function(e, detail){
          var contentPages = document.querySelector('core-animated-pages');
          selectedItem = detail.item.attributes.num.nodeValue;
          console.log("Should select: " + detail.item.attributes.num.nodeValue); 
      },
      home: function() {
        var contentPages = document.querySelector('core-animated-pages');
          selectedItem = 0;
    },
      about: function() {
        var contentPages = document.querySelector('core-animated-pages');
          selectedItem = 1;
    },
        proj: function() {
        var contentPages = document.querySelector('core-animated-pages');
          contentPages.selected = 2;
    }
    });

  </script>

</polymer-element>